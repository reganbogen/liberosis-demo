<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="public/css/style.css">
  
  <!-- BOOTSTRAP -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  
  <title>Say Her Name</title>
</head>
<body id="sayHerNamePage">

    <div class="speakup col-6">

      <h1 id="sayTitle">Say Her Name</h1>
      
      <select name="voice" id="voices">
        <option value="">Select A Voice</option>
      </select>
            
      <label for="rate">Rate:</label>
      <input name="rate" type="range" min="0" max="3" value="1" step="0.1">

      <label for="pitch">Pitch:</label>
      <input name="pitch" type="range" min="0" max="2" step="0.1">
        
      <button id="stop">&#x25A0;</button>
      <button id="speak">&#9654;</button>
      
      <ul id="actions">  
          <li>Breonna Taylor, killed by police in her bed on March 13, 2020.</li>
          <li style="display:none">Say her name.</li>
          <li>Atatiana Jefferson, killed by police on October 12, 2019.</li>
          <li style="display:none">Say her name.</li>
          <li>Charleena Chavon Lyles, killed by police on June 18, 2017.</li>
          <li style="display:none">Say her name.</li>
          <li>Korryn Gaines, killed by police on August 1, 2016.</li>
          <li style="display:none">Say her name.</li>        
          <li>India Kager, killed by police in her car on September 5, 2015.</li>
          <li style="display:none">Say her name.</li>        
          <li>Sandra Bland, died in police custody on July 13, 2015.</li>
          <li style="display:none">Say her name.</li>        
          <li>Alexia Christian, killed by police on April 30, 2015.</li>
          <li style="display:none">Say her name.</li>        
          <li>Mya Hall, killed by police on March 30, 2015.</li>
          <li style="display:none">Say her name.</li>        
          <li>Meagan Hockaday, killed by police on March 28, 2015.</li>
          <li style="display:none">Say her name.</li>        
          <li>Janisha Fonville, killed by police on February 18, 2015.</li>
          <li style="display:none">Say her name.</li>        
          <li>Natasha McKenna, died of police-induced trauma on February 8, 2015.</li>
          <li style="display:none">Say her name.</li>        
          <li>Tanisha Anderson, killed by police on November 13, 2014.</li>
          <li style="display:none">Say her name.</li>        
          <li>Aura Rosser, killed by police on November 9, 2014.</li>
          <li style="display:none">Say her name.</li>        
          <li>Sheneque Proctor, died in police custody on November 1, 2014.</li>
          <li style="display:none">Say her name.</li>        
          <li>Michelle Cusseaux, killed by police on August 13, 2014.</li>
          <li style="display:none">Say her name.</li>        
          <li>Pearlie Golden, killed by police on May 7, 2014.</li>
          <li style="display:none">Say her name.</li>        
          <li>Gabriella Nevarez, killed by police on March 2, 2014.</li>
          <li style="display:none">Say her name.</li>        
          <li>Yvette Smith, killed by police on February 16, 2014.</li>
          <li style="display:none">Say her name.</li>        
          <li>Renisha McBride,	killed by a white supremacist on November 3, 2013.</li>
          <li style="display:none">Say her name.</li>        
          <li>Miriam Carey, killed by federal agents on October 3, 2013.</li>
          <li style="display:none">Say her name.</li>        
          <li>Kyam Livingston, died in police custody on July 24, 2013.</li>
          <li style="display:none">Say her name.</li>        
          <li>Kayla Moore, killed by police on February 12, 2013.</li>
          <li style="display:none">Say her name.</li>        
          <li>Shelly Frey, killed by police on December 6, 2012.</li>
          <li style="display:none">Say her name.</li>        
          <li>Malissa Williams, killed by police on November 29, 2012.</li>
          <li style="display:none">Say her name.</li>        
          <li>Shulena Weldon, died after being ran over by by police On August 9, 2012.</li>
          <li style="display:none">Say her name.</li>        
          <li>Alesia Thomas, killed by police on July 22, 2012.</li>
          <li style="display:none">Say her name.</li>        
          <li>Shantel Davis, killed by police on June 14, 2012.</li>
          <li style="display:none">Say her name.</li>        
          <li>Sharmel Edwards, killed by police on April 21, 2012.</li>
          <li style="display:none">Say her name.</li>        
          <li>Rekia Boyd, killed by police on March 21, 2012.</li>
          <li style="display:none">Say her name.</li>        
          <li>Shereese Francis, killed by police on March 15, 2012.</li>
          <li style="display:none">Say her name.</li>        
          <li>Aiyana Stanley-Jones, killed by police on May 16, 2010.</li>
          <li style="display:none">Say her name.</li>        
          <li>Tarika Wilson, killed by police on January 4, 2008.</li>
          <li style="display:none">Say her name.</li>        
          <li>Kathryn Johnston, killed by police on November 21, 2006.</li>
          <li style="display:none">Say her name.</li>        
          <li>Alberta Spruill, died of police-induced trauma on May 16, 2003.</li>
          <li style="display:none">Say her name.</li>        
          <li>Kendra James, killed by police on May 5, 2003.</li>
          <li style="display:none">Say her name.</li>        
          <li>LaTanya Haggerty, killed by police on June 4, 1999.</li>
          <li style="display:none">Say her name.</li>        
          <li>Margaret LaVerne Mitchell, killed by police on May 21, 1999.</li>
                  <li style="display:none">Say her name.</li>
          <li>Tyisha Miller, killed by police on December 28, 1998.</li>
          <li style="display:none">Say her name.</li>        
          <li>Danette Daniels, killed by police on June 8, 1997.</li>
          <li style="display:none">Say her name.</li>        
          <li>Frankie Ann Perkins, killed by police on March 22, 1997.</li>
          <li style="display:none">Say her name.</li>        
          <li>Sonji Taylor, killed by police on December 16, 1993.</li>
          <li style="display:none">Say her name.</li>        
          <li>Eleanor Bumpurs, killed by police on October 29, 1984.</li>
          <li style="display:none">Say her name.</li>        
        </ul>
    </div>

    <script type="text/javascript">
      let msg = new SpeechSynthesisUtterance();
      const options = document.querySelectorAll('[type="range"], [name="text"]');
      let voices = [];
      const voicesDropdown = document.querySelector('[name="voice"]');
      const speakButton = document.querySelector('#speak');
      const stopButton = document.querySelector('#stop');
      
      msg.text = document.getElementById("actions").innerHTML;   
      
      //msg.lang = 'en-US';
      //msg.rate = 1.2;
      
      function populateVoices() {
      voices = this.getVoices();
      voicesDropdown.innerHTML = voices
        .filter(voice => voice.lang.includes('en-US'))
        .map(voice => `<option value="${voice.name}">${voice.name} (${voice.lang})</option>`)
        .join('');
      }    
      
      function setVoice() {
    msg.voice = voices.find(voice => voice.name === this.value);
    toggle();
      }
      
      function toggle(startOver = true) {
        speechSynthesis.cancel();
        if (startOver) {
          speechSynthesis.speak(msg);
        }
      }
      
      function setOption() {
        console.log(this.name, this.value);
        msg[this.name] = this.value;
        toggle();
      }

    
      
      speechSynthesis.addEventListener('voiceschanged', populateVoices);
      voicesDropdown.addEventListener('change', setVoice);
      options.forEach(option => option.addEventListener('change', setOption));
      speakButton.addEventListener('click', toggle);
      stopButton.addEventListener('click', () => toggle(false));
      
  </script>
  
</body>
</html>
